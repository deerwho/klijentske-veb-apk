<div class="wrapper" *ngIf="user">
  <mat-card class="user-card" appearance="outlined">
    <mat-card-header>
      <img mat-card-avatar class="example-header-image" [src]="['https://ui-avatars.com/api/?name=' + user.email]">
      <mat-card-title>{{user.email}}</mat-card-title>
      <mat-card-title>{{user.firstName}}  {{user.lastName}}</mat-card-title>
      <mat-card-subtitle><br>
        <p class="no-border">Total orders: {{user.orders.length}}</p><br>
        <p class="no-border">Favorite Genre: {{user.favoriteGenre}}</p>
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content class="mat-card-content">
      <mat-accordion class="example-headers-align" multi>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Change Password <mat-icon></mat-icon><i class="fa-solid fa-key"></i></mat-panel-title>
          </mat-expansion-panel-header>
          <mat-form-field>
            <mat-label> Old Password:</mat-label>
            <input matInput type="password" [(ngModel)]="oldPasswordValue">
          </mat-form-field>
          <mat-form-field>
            <mat-label> New Password: </mat-label>
            <input matInput type="password" [(ngModel)]="newPasswordValue">
          </mat-form-field>
          <mat-form-field>
            <mat-label> Confirm New Password: </mat-label>
            <input matInput type="password" [(ngModel)]="repeatPasswordValue">
          </mat-form-field>
          <button mat-button (click)="doChangePassword()">
            <i class="fa-solid fa-key"></i> Submit
          </button>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-card-content>
  </mat-card>
  </div>